<md-content>
  <md-tabs md-dynamic-height="true" md-center-tabs="true" md-swipe-content md-border-bottom>
    <md-tab label="{{step.title}}" ng-repeat="step in steps track by $index" ng-disabled="step.disabled">
      <input type="hidden" ng-init="submitted[$index]=false">
      <md-content class="md-padding">
        <ng-form name="form_request_data">
          <ng-include class="container-fluid" src="step.template"></ng-include>
          <div layout="row" layout-align="space-between end">
            <md-button class="md-primary md-raised" style="position:absolute;left: 0" ng-click="previousSection($index,form_request_data)" ng-if="!$first">Anterior</md-button>
            <md-button class="md-primary md-raised" style="position:absolute;right: 0" ng-click="nextSection($index,form_request_data)" ng-if="!$last">Siguiente</md-button>
            <md-button class="md-primary md-raised" style="position:absolute;right: 0" ng-click="saveCopyright($index,form_request_data)" ng-if="$last">Guardar</md-button>
          </div>
        </ng-form>
      </md-content>
    </md-tab>
  </md-tabs>
</md-content>


<script type="text/ng-template" id="general_data_copyright">
  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Curp</label>
      <input name="general_data_curp" ng-model="application.data_general.person.curp">
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>RFC</label>
      <input name="general_data_rfc" required ng-model="application.data_general.person.rfc">
      <span class="error-field" ng-show="(form_request_data.general_data_rfc.$error.required && form_request_data.general_data_rfc.$touched) || (submitted[$index] && form_request_data.general_data_rfc.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Nombre</label>
      <input name="general_data_name" ng-model="application.data_general.person.name" required>
      <span class="error-field" ng-show="(form_request_data.general_data_name.$error.required && form_request_data.general_data_name.$touched) || (submitted[$index] && form_request_data.general_data_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Primer apellido</label>
      <input name="general_data_first_last_name" required ng-model="application.data_general.person.first_last_name">
      <span class="error-field" ng-show="(form_request_data.general_data_first_last_name.$error.required && form_request_data.general_data_first_last_name.$touched) || (submitted[$index] && form_request_data.general_data_first_last_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Segundo apellido</label>
      <input name="general_data_second_last_name" required ng-model="application.data_general.person.second_last_name">
      <span class="error-field" ng-show="(form_request_data.general_data_second_last_name.$error.required && form_request_data.general_data_second_last_name.$touched) || (submitted[$index] && form_request_data.general_data_second_last_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <div class="md-block" flex-gt-sm>
      <md-radio-group name="general_data_gender" required ng-model="application.data_general.person.gender">
        <md-radio-button value="true">Masculino</md-radio-button>
        <md-radio-button value="false">Femenino</md-radio-button>
      </md-radio-group>
      <span class="error-field" ng-show="(form_request_data.general_data_gender.$error.required && form_request_data.general_data_gender.$touched) || (submitted[$index] && form_request_data.general_data_gender.$error.required)">Este campo es obligatorio</span>
    </div>
  </div>


  <div layout-gt-sm="row">
    <div class="md-block" flex-gt-sm>
      <label>
        <small>Fecha de nacimiento:</small>
      </label>
      <md-datepicker name="general_data_birth_date" required ng-model="application.data_general.person.birth_date" md-placeholder="Seleccione una fecha" md-open-on-focus></md-datepicker>
      <span class="error-field" ng-show="form_request_data.general_data_birth_date.$error.required && form_request_data.general_data_birth_date.$touched || (submitted[$index] && form_request_data.general_data_birth_date.$error.required)">Este campo es obligatorio</span>
    </div>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Lugar de nacimiento</label>
      <input name="general_data_place_birth_date" required ng-model="application.data_general.person.birth_location">
      <span class="error-field" ng-show="(form_request_data.general_data_place_birth_date.$error.required && form_request_data.general_data_place_birth_date.$touched) || (submitted[$index] && form_request_data.general_data_place_birth_date.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Porcentaje de participación</label>
      <input name="general_data_participation_percent" required ng-model="application.data_general.person.participation_percent">
      <span class="error-field" ng-show="(form_request_data.general_data_participation_percent.$error.required && form_request_data.general_data_participation_percent.$touched) || (submitted[$index] && form_request_data.general_data_participation_percent.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>

  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Tipo de participación:</label>
      <input name="general_data_participation_type" required ng-model="application.data_general.person.participation_type">
      <span class="error-field" ng-show="form_request_data.general_data_participation_type.$error.required && form_request_data.general_data_participation_type.$touched || (submitted[$index] && form_request_data.general_data_participation_type.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Telefono</label>
      <input ng-model="application.data_general.phone">
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Celular</label>
      <input ng-model="application.data_general.person.cell_phone">
    </md-input-container>
  </div>

  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Correo</label>
      <input ng-model="application.data_general.person.email">
    </md-input-container>
    <div class="md-block" flex-gt-sm></div>
  </div>

  <div layout-gt-sm="row">
    <div class="md-block" flex-gt-sm>
      <md-toolbar>
        <h2 class="md-toolbar-tools text-center">
          <span>Domicilio Particular</span>
        </h2>
      </md-toolbar>
    </div>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Codigo Postal</label>
      <input name="general_data_address_zip_code" required ng-model="application.data_general.address_data.zip_code">
      <span class="error-field" ng-show="form_request_data.general_data_address_zip_code.$error.required && form_request_data.general_data_address_zip_code.$touched || (submitted[$index] && form_request_data.general_data_address_zip_code.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Calle</label>
      <input name="general_data_address_street" required ng-model="application.data_general.address_data.street">
      <span class="error-field" ng-show="form_request_data.general_data_address_street.$error.required && form_request_data.general_data_address_street.$touched || (submitted[$index] && form_request_data.general_data_address_street.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Numero exterior</label>
      <input name="general_data_address_external_number" required ng-model="application.data_general.address_data.external_number">
      <span class="error-field" ng-show="form_request_data.general_data_address_external_number.$error.required && form_request_data.general_data_address_external_number.$touched || (submitted[$index] && form_request_data.general_data_address_external_number.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Numero interno</label>
      <input ng-model="application.data_general.address_data.internal_number">
    </md-input-container>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Colonia</label>
      <input name="general_data_address_colony" required ng-model="application.data_general.address_data.colony">
      <span class="error-field" ng-show="form_request_data.general_data_address_colony.$error.required && form_request_data.general_data_address_colony.$touched || (submitted[$index] && form_request_data.general_data_address_colony.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Municipio/Delegación</label>
      <input name="general_data_address_municipality" required ng-model="application.data_general.address_data.municipality">
      <span class="error-field" ng-show="form_request_data.general_data_address_municipality.$error.required && form_request_data.general_data_address_municipality.$touched || (submitted[$index] && form_request_data.general_data_address_municipality.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Estado</label>
      <input name="general_data_state" required ng-model="application.data_general.state">
      <span class="error-field" ng-show="form_request_data.general_data_state.$error.required && form_request_data.general_data_state.$touched || (submitted[$index] && form_request_data.general_data_state.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Pais</label>
      <md-select required name="general_data_address_country" ng-model="application.data_general.address_data.country_id">
        <md-select-header>
          <md-input-container>
            <input ng-model="countrySearchTerm"
                   type="search"
                   placeholder="Pais"
                   class="header-search-box">
          </md-input-container>
        </md-select-header>
        <md-option ng-value="{{country.id}}" ng-repeat="country in countries | orderBy:'name' | filter:countrySearchTerm">{{
          country.name
          }}
        </md-option>
      </md-select>
      <span class="error-field" ng-show="form_request_data.general_data_address_country.$error.required && form_request_data.general_data_address_country.$touched || (submitted[$index] && form_request_data.general_data_address_country.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>

</script>

<script type="text/ng-template" id="owner_work_copyright">

  <div layout-gt-sm="row">
    <div class="md-block" flex-gt-sm>
      <label>¿El titular es el mismo autor?</label>
      <md-radio-group ng-model="application.copyright.titular_is_author">
        <md-radio-button value="1">Si</md-radio-button>
        <md-radio-button value="0">No</md-radio-button>
      </md-radio-group>
    </div>
  </div>
  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Curp</label>
      <input name="general_data_author_curp" ng-model="application.general_data_author.curp">
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>RFC</label>
      <input name="general_data_author_rfc" required ng-model="application.general_data_author.rfc">
      <span class="error-field" ng-show="(form_request_data.general_data_author_rfc.$error.required && form_request_data.general_data_author_rfc.$touched) || (submitted[$index] && form_request_data.general_data_author_rfc.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Nombre</label>
      <input name="general_data_author_name" ng-model="application.general_data_author.name" required>
      <span class="error-field" ng-show="(form_request_data.general_data_author_name.$error.required && form_request_data.general_data_author_name.$touched) || (submitted[$index] && form_request_data.general_data_author_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Primer apellido</label>
      <input name="general_data_author_first_last_name" required ng-model="application.copyright.general_data_author.first_last_name">
      <span class="error-field" ng-show="(form_request_data.general_data_author_first_last_name.$error.required && form_request_data.general_data_author_first_last_name.$touched) || (submitted[$index] && form_request_data.general_data_author_first_last_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Segundo apellido</label>
      <input name="general_data_author_second_last_name" required ng-model="application.copyright.general_data_author.second_last_name">
      <span class="error-field" ng-show="(form_request_data.general_data_author_second_last_name.$error.required && form_request_data.general_data_author_second_last_name.$touched) || (submitted[$index] && form_request_data.general_data_author_second_last_name.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <div class="md-block" flex-gt-sm>
      <md-radio-group name="general_data_author_gender" required ng-model="application.copyright.general_data_author.gender">
        <md-radio-button value="true">Masculino</md-radio-button>
        <md-radio-button value="false">Femenino</md-radio-button>
      </md-radio-group>
      <span class="error-field" ng-show="(form_request_data.general_data_author_gender.$error.required && form_request_data.general_data_author_gender.$touched) || (submitted[$index] && form_request_data.general_data_author_gender.$error.required)">Este campo es obligatorio</span>
    </div>
  </div>


  <div layout-gt-sm="row">
    <div class="md-block" flex-gt-sm>
      <label>
        <small>Fecha de nacimiento:</small>
      </label>
      <md-datepicker name="general_data_author_birth_date" required ng-model="application.copyright.general_data_author.birth_date" md-placeholder="Seleccione una fecha" md-open-on-focus></md-datepicker>
      <span class="error-field" ng-show="form_request_data.general_data_author_birth_date.$error.required && form_request_data.general_data_author_birth_date.$touched || (submitted[$index] && form_request_data.general_data_author_birth_date.$error.required)">Este campo es obligatorio</span>
    </div>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Lugar de nacimiento</label>
      <input name="general_data_author_place_birth_date" required ng-model="application.copyright.general_data_author.birth_location">
      <span class="error-field" ng-show="(form_request_data.general_data_author_place_birth_date.$error.required && form_request_data.general_data_author_place_birth_date.$touched) || (submitted[$index] && form_request_data.general_data_author_place_birth_date.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Porcentaje de participación</label>
      <input name="general_data_author_participation_percent" required ng-model="application.copyright.general_data_author.participation_percent">
      <span class="error-field" ng-show="(form_request_data.general_data_author_participation_percent.$error.required && form_request_data.general_data_author_participation_percent.$touched) || (submitted[$index] && form_request_data.general_data_author_participation_percent.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>

  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Tipo de participación:</label>
      <input name="general_data_author_participation_type" required ng-model="application.copyright.general_data_author.participation_type">
      <span class="error-field" ng-show="form_request_data.general_data_author_participation_type.$error.required && form_request_data.general_data_author_participation_type.$touched || (submitted[$index] && form_request_data.general_data_author_participation_type.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Telefono</label>
      <input ng-model="application.copyright.general_data_author.phone">
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Celular</label>
      <input ng-model="application.copyright.general_data_author.cell_phone">
    </md-input-container>
  </div>

  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Correo</label>
      <input ng-model="application.copyright.general_data_author.email">
    </md-input-container>
    <div class="md-block" flex-gt-sm></div>
  </div>

  <div layout-gt-sm="row">
    <div class="md-block" flex-gt-sm>
      <md-toolbar>
        <h2 class="md-toolbar-tools text-center">
          <span>Domicilio</span>
        </h2>
      </md-toolbar>
    </div>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Codigo Postal</label>
      <input name="general_data_author_address_zip_code" required ng-model="application.copyright.general_data_author.address_data.zip_code">
      <span class="error-field" ng-show="form_request_data.general_data_author_address_zip_code.$error.required && form_request_data.general_data_author_address_zip_code.$touched || (submitted[$index] && form_request_data.general_data_author_address_zip_code.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Calle</label>
      <input name="general_data_author_address_street" required ng-model="application.copyright.general_data_author.address_data.street">
      <span class="error-field" ng-show="form_request_data.general_data_author_address_street.$error.required && form_request_data.general_data_author_address_street.$touched || (submitted[$index] && form_request_data.general_data_author_address_street.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Numero exterior</label>
      <input name="general_data_author_address_external_number" required ng-model="application.copyright.general_data_author.address_data.external_number">
      <span class="error-field" ng-show="form_request_data.general_data_author_address_external_number.$error.required && form_request_data.general_data_author_address_external_number.$touched || (submitted[$index] && form_request_data.general_data_author_address_external_number.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Numero interno</label>
      <input ng-model="application.copyright.general_data_author.address_data.internal_number">
    </md-input-container>
  </div>


  <div layout-gt-sm="row">
    <md-input-container class="md-block" flex-gt-sm>
      <label>Colonia</label>
      <input name="general_data_author_address_colony" required ng-model="application.copyright.general_data_author.address_data.colony">
      <span class="error-field" ng-show="form_request_data.general_data_address_colony.$error.required && form_request_data.general_data_address_colony.$touched || (submitted[$index] && form_request_data.general_data_address_colony.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Municipio/Delegación</label>
      <input name="general_data_author_address_municipality" required ng-model="application.copyright.general_data_author.address_data.municipality">
      <span class="error-field" ng-show="form_request_data.general_data_author_address_municipality.$error.required && form_request_data.general_data_author_address_municipality.$touched || (submitted[$index] && form_request_data.general_data_author_address_municipality.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Estado</label>
      <input name="general_data_author_state" required ng-model="application.copyright.general_data_author.state">
      <span class="error-field" ng-show="form_request_data.general_data_author_state.$error.required && form_request_data.general_data_author_state.$touched || (submitted[$index] && form_request_data.general_data_author_state.$error.required)">Este campo es obligatorio</span>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Pais</label>
      <md-select required name="general_data_author_address_country" ng-model="application.copyright.general_data_author.address_data.country_id">
        <md-select-header>
          <md-input-container>
            <input ng-model="countrySearchTerm"
                   type="search"
                   placeholder="Pais"
                   class="header-search-box">
          </md-input-container>
        </md-select-header>
        <md-option ng-value="{{country.id}}" ng-repeat="country in countries | orderBy:'name' | filter:countrySearchTerm">{{
          country.name
          }}
        </md-option>
      </md-select>
      <span class="error-field" ng-show="form_request_data.general_data_author_address_country.$error.required && form_request_data.general_data_author_address_country.$touched || (submitted[$index] && form_request_data.general_data_author_address_country.$error.required)">Este campo es obligatorio</span>
    </md-input-container>
  </div>
</script>


<script type="text/ng-template" id="legal_representative_copyright"></script>
<script type="text/ng-template" id="data_wor_copyright"></script>