<input type="hidden" ng-init="sign_types = <%= SignType.all.to_json %>">
<input type="hidden" ng-init="brand_types = <%= BrandType.all.to_json %>">
<input type="hidden" ng-init="type_persons = <%= TypePerson.all.to_json %>">

<form name="form_request" class="form-horizontal" novalidate>
  <div ng-if="new_request">
    <h3 class="text-center header-section">Datos Generales del o de los solicitante(s)</h3>

    <div class="container-section">
      <md-radio-group ng-model="application.type_person_id" required="">
        <md-radio-button ng-repeat="type_person in type_persons" value="{{type_person.id}}" class="md-primary">{{type_person.name}}</md-radio-button>
      </md-radio-group>

      <div ng-if="application.type_person_id == <%= TypePerson::PHYSICAL_PERSON %>">
        <h4 class="text-center">Persona Fisica</h4>
        <br>
        <div layout-gt-sm="row">
          <md-input-container class="md-block" flex-gt-sm>
            <label>CURP</label>
            <input name="curp" ng-model="application.physic_person.curp">
            <span class="error-field" ng-show="form_request.curp.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Nombre(s)</label>
            <input name="physic_person_name" ng-model="application.physic_person.name">
            <span class="error-field" ng-show="form_request.physic_person_name.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Primer Apellido</label>
            <input name="physic_person_first_last_name" ng-model="application.physic_person.first_last_name">
            <span class="error-field" ng-show="form_request.physic_person_first_last_name.$error.required">Este campo es obligatorio</span>
          </md-input-container>
        </div>


        <div layout-gt-sm="row">
          <md-input-container class="md-block" flex-gt-sm>
            <label>Segundo Apellido</label>
            <input name="physic_person_last_name" ng-model="application.physic_person.last_name">
            <span class="error-field" ng-show="form_request.physic_person_last_name.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Nacionalidad</label>
            <input name="physic_person_nationality" ng-model="application.physic_person.nationality">
            <span class="error-field" ng-show="form_request.physic_person_nationality.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Telefono</label>
            <input name="physic_person_phone" ng-model="application.physic_person.phone">
            <span class="error-field" ng-show="form_request.physic_person_phone.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Correo Electronico</label>
            <input name="physic_person_email" ng-model="application.physic_person.email">
            <span class="error-field" ng-show="form_request.physic_person_email.$error.required">Este campo es obligatorio</span>
          </md-input-container>
        </div>

      </div>

      <div ng-if="application.type_person_id == <%= TypePerson::MORAL_PERSON %>">
        <h4 class="text-center">Persona Moral</h4>

        <div layout-gt-sm="row">
          <md-input-container class="md-block" flex-gt-sm>
            <label>RFC</label>
            <input name="moral_person_rfc" ng-model="application.moral_person.rfc">
            <span class="error-field" ng-show="form_request.moral_person_rfc.$error.required">Este campo es obligatorio</span>
          </md-input-container>
          <md-input-container class="md-block" flex-gt-sm>
            <label>Denominacion social</label>
            <input name="moral_person_social_reason" ng-model="application.moral_person.social_reason">
            <span class="error-field" ng-show="form_request.moral_person_social_reason.$error.required">Este campo es obligatorio</span>
          </md-input-container>
        </div>
        <div layout-gt-sm="row">

          <md-input-container class="md-block" flex-gt-sm>
            <label>Nacionalidad</label>
            <input name="moral_person_nationality" ng-model="application.moral_person.nationality">
            <span class="error-field" ng-show="form_request.moral_person_nationality.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Telefono</label>
            <input name="moral_person_phone" ng-model="application.moral_person.phone">
            <span class="error-field" ng-show="form_request.moral_person_phone.$error.required">Este campo es obligatorio</span>
          </md-input-container>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Correo Electronico</label>
            <input name="moral_person_email" ng-model="application.moral_person.email">
            <span class="error-field" ng-show="form_request.moral_person_email.$error.required">Este campo es obligatorio</span>
          </md-input-container>
        </div>
      </div>
    </div>
    <br>
    <div class="box-container">
      <h3 class="text-center header-section">Domicilio del solicitante</h3>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Código Postal</label>
          <input required name="zip_code" ng-model="application.address_applicant.zip_code">
          <span class="error-field" ng-show="form_request.zip_code.$error.required">Este campo es obligatorio</span>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Calle</label>
          <input required name="street" ng-model="application.address_applicant.street">
          <span class="error-field" ng-show="form_request.street.$error.required">Este campo es obligatorio</span>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Número exterior</label>
          <input required name="external_number" ng-model="application.address_applicant.external_number">
          <span class="error-field" ng-show="form_request.external_number.$error.required">Este campo es obligatorio</span>
        </md-input-container>
      </div>


      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Número interno</label>
          <input name="internal_number" ng-model="application.address_applicant.internal_number" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Colonia</label>
          <input ng-model="application.address_applicant.colony" name="colony" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Municipio</label>
          <input name="municipality" ng-model="application.address_applicant.municipality" required>
        </md-input-container>
      </div>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Número interno</label>
          <input ng-model="application.address_applicant.locality" name="locality" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Entidad Federativa</label>
          <input name="federal_entity" ng-model="application.address_applicant.federal_entity" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Entre Calles</label>
          <input ng-model="application.address_applicant.between_streets">
        </md-input-container>
      </div>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Pais</label>
          <md-select id="state_select" required name="country" ng-model="application.address_applicant.country_id" md-on-close="clearCountrySearchField()">
            <md-select-header>
              <md-input-container>
                <input ng-model="countrySearchTerm"
                       type="search"
                       placeholder="Pais"
                       class="header-searchbox">
              </md-input-container>
            </md-select-header>
            <md-option ng-repeat="country in countries | filter:countrySearchTerm">{{ country.name }}
            </md-option>
          </md-select>
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
          <label>Calle posterior</label>
          <input ng-model="application.address_applicant.back_street">
        </md-input-container>
      </div>
    </div>
    <br>
    <div class="box-container">
      <h3 class="text-center header-section">Domicilio para oir y recibir notificaciones</h3>
      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Código Postal</label>
          <input required name="zip_code" ng-model="application.address_applicant.zip_code">
          <span class="error-field" ng-show="form_request.zip_code.$error.required">Este campo es obligatorio</span>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Calle</label>
          <input required name="street" ng-model="application.address_applicant.street">
          <span class="error-field" ng-show="form_request.street.$error.required">Este campo es obligatorio</span>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Número exterior</label>
          <input required name="external_number" ng-model="application.address_applicant.external_number">
          <span class="error-field" ng-show="form_request.external_number.$error.required">Este campo es obligatorio</span>
        </md-input-container>
      </div>


      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Número interno</label>
          <input name="internal_number" ng-model="application.address_applicant.internal_number" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Colonia</label>
          <input ng-model="application.address_applicant.colony" name="colony" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Municipio</label>
          <input name="municipality" ng-model="application.address_applicant.municipality" required>
        </md-input-container>
      </div>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Número interno</label>
          <input ng-model="application.address_applicant.locality" name="locality" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Entidad Federativa</label>
          <input name="federal_entity" ng-model="application.address_applicant.federal_entity" required>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Entre Calles</label>
          <input ng-model="application.address_applicant.between_streets">
        </md-input-container>
      </div>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Pais</label>
          <md-select id="state_select" required name="country" ng-model="application.address_applicant.country_id" md-on-close="clearCountrySearchField()">
            <md-select-header>
              <md-input-container>
                <input ng-model="countrySearchTerm"
                       type="search"
                       placeholder="Pais"
                       class="header-searchbox">
              </md-input-container>
            </md-select-header>
            <md-option ng-repeat="country in countries | filter:countrySearchTerm">{{ country.name }}
            </md-option>
          </md-select>
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
          <label>Calle posterior</label>
          <input ng-model="application.address_applicant.back_street">
        </md-input-container>
      </div>

    </div>
    <br>

    <div class="box-container">
      <h3 class="text-center header-section">Datos del signo distintivo</h3>

      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
          <label>Tipo de signo distintivo</label>
          <md-select required name="sign_type" ng-model="application.sign_type_id">
            <md-option ng-repeat="sign_type in sign_types track by $index">{{ sign_type.name }}
            </md-option>
          </md-select>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-sm>
          <label>Tipo de marca</label>
          <md-select required name="brand_type" ng-model="application.brand_type_id">
            <md-option ng-repeat="brand_type in brand_types track by $index">
              {{ brand_type.name }}
            </md-option>
          </md-select>

        </md-input-container>
      </div>

      <div layout-gt-sm="row">
        <div flex-gt-sm="20">
          <md-datepicker ng-required="!application.not_use" name="date_first_use" ng-model="application.date_first_use" ng-disabled="application.not_use" md-placeholder="Enter date" md-open-on-focus></md-datepicker>

        </div>
        <div flex-gt-sm="30">
          <md-checkbox ng-click="application.date_first_use = undefined" class="md-primary" ng-model="application.not_use" aria-label="No se ha usado">No
            se ha usado
          </md-checkbox>
        </div>
      </div>
    </div>
  </div>
</form>