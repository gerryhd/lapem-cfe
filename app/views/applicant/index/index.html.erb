<md-card ng-controller="IndexController">
  <input type="hidden" ng-init="applications = <%= current_user.applicant.applications.to_json(include: [:status_application,:application_type]) %>">
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Solicitudes</span>
    </md-card-header-text>

  </md-card-header>

  <md-card-actions layout="row">
    <md-button ng-href="<%= new_applicant_application_path %>" class="md-primary md-raised">Nueva solicitud</md-button>
  </md-card-actions>


  <md-card-content>
    <md-table-container>
      <table md-table>
        <thead md-head md-order="myOrder">
        <!--<th md-column md-order-by="date_creation">Fecha de creacion</th>-->
        <th md-column>Fecha de creacion</th>
        <th md-column>Tipo de solicitud</th>
        <th md-column>Estatus</th>
        <th md-column>Operaciones</th>
        </thead>
        <tbody md-body>
        <!-- we can let ng-repeat sort the columns for us -->
        <tr md-row ng-repeat="application in applications track by $index">
          <td md-cell>{{application.created_at | date:'yyyy-mm-dd'}}</td>
          <td md-cell>{{application.application_type.name}}</td>
          <td md-cell>{{application.status_application.name}}</td>
          <td md-cell>
            <a href="#" ng-click="delete(application.id,$index)">eliminar</a>
          </td>
        </tr>
        </tbody>
      </table>
    </md-table-container>
    <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{applications.count}}" md-on-paginate="getApplications" md-page-select></md-table-pagination>

  </md-card-content>
</md-card>